<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Where in the World? ‚Äî 15 Question Quiz</title>
  <style>
    :root{
      --bg:#f6f7fb; --card:#fff; --accent:#1f7aec; --muted:#6b7280;
      --accent-dark:#0f62c9;
    }
    *{box-sizing:border-box}
    body{
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;
      margin:0; background:var(--bg); color:#0f172a;
      -webkit-font-smoothing:antialiased;
      font-size:18px;
    }
    .wrap{max-width:980px;margin:22px auto;padding:18px}
    .card{background:var(--card);border-radius:14px;box-shadow:0 10px 30px rgba(16,24,40,0.08);overflow:hidden}
    header{display:flex;align-items:center;gap:12px;padding:16px 18px}
    .logo{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#6aa8ff);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:22px}
    .title{flex:1}
    .title h1{margin:0;font-size:22px}
    .title p{margin:4px 0 0;color:var(--muted);font-size:15px}
    .quiz-body{display:grid;grid-template-columns:1fr;gap:16px;padding:18px}
    .question-area{display:flex;flex-direction:column;gap:12px}
    .image-wrap{width:100%;max-height:420px;overflow:hidden;border-radius:12px;background:#eceff6;display:flex;align-items:center;justify-content:center}
    .image-wrap img{width:100%;height:100%;object-fit:cover;display:block}
    .question{font-weight:700;font-size:22px;margin-top:6px}
    .choices{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:8px}
    .choice{border:1px solid #eef4ff;padding:14px 16px;border-radius:10px;background:#fff;cursor:pointer;user-select:none;text-align:left;font-size:18px}
    .choice.selected{border-color:var(--accent);box-shadow:0 6px 18px rgba(31,122,236,0.12);background:linear-gradient(180deg,#fff,#f3f8ff)}
    .controls{display:flex;justify-content:space-between;align-items:center;padding:14px 18px;border-top:1px solid #f3f6fb}
    .btn{background:var(--accent);color:#fff;padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-size:16px}
    .btn.ghost{background:transparent;color:var(--accent);border:1px solid rgba(31,122,236,0.12)}
    .progress{height:10px;background:#e9f0ff;border-radius:999px;overflow:hidden;margin-top:8px}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#6aa8ff);width:0}
    footer{padding:14px 18px;font-size:13px;color:var(--muted);display:flex;justify-content:space-between;align-items:center}
    .results-wrap{padding:28px;display:none;align-items:center;justify-content:center;flex-direction:column;gap:12px}
    .results-card{
      width:100%;border-radius:12px;padding:22px;color:white;text-align:center;
      background:linear-gradient(135deg,#00c6ff 0%,#0072ff 50%, #5a00ff 100%);
      box-shadow:0 12px 30px rgba(10,30,80,0.18);
    }
    .tier{font-size:20px;font-weight:800;margin:6px 0}
    .restart{margin-top:12px;background:rgba(255,255,255,0.12);border:none;padding:10px 14px;border-radius:10px;color:white;cursor:pointer}
    .share{background:rgba(255,255,255,0.18);border:none;padding:8px 12px;border-radius:8px;color:white;cursor:pointer}
    @media (min-width:860px){ .quiz-body{grid-template-columns:1fr 340px} .image-wrap{min-height:320px} .choices{grid-column:1/-1} }
    @media (max-width:520px){ .choices{grid-template-columns:1fr} .image-wrap{max-height:260px} }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="application" aria-label="Where in the World? quiz">
      <header>
        <div class="logo">Wüåç</div>
        <div class="title">
          <h1>Where in the World?</h1>
          <p>15 postcard-style geography questions ‚Äî stable images.</p>
        </div>
      </header>

      <main class="quiz-body">
        <section class="question-area" aria-live="polite">
          <div class="image-wrap" id="imageWrap">
            <img id="qImage" alt="Question image" src="">
          </div>

          <div class="question" id="qText">Loading‚Ä¶</div>
          <div class="choices" id="choices" role="list"></div>

          <div class="progress" aria-hidden="true"><i id="progressBar"></i></div>

          <div class="controls">
            <button class="btn ghost" id="prevBtn" aria-label="Previous">‚óÄ Previous</button>
            <button class="btn ghost" id="nextBtn" aria-label="Next">Next ‚ñ∂</button>
          </div>

          <div class="results-wrap" id="results" aria-hidden="true">
            <div class="results-card" id="resultsCard" role="region" aria-label="Quiz results">
              <div id="resultsTitle" style="font-size:22px;font-weight:800">You scored X / 15</div>
              <div id="resultsTier" class="tier">Tier</div>
              <div id="resultsText" style="opacity:0.95"></div>
              <div style="margin-top:12px;display:flex;gap:8px;justify-content:center">
                <button class="restart" id="retryBtn">Restart Quiz</button>
                <button class="share" id="shareBtn">Copy share text</button>
              </div>
            </div>
          </div>
        </section>

      <footer>
        <div style="color:var(--muted)">Made with care ‚Äî postcard quiz</div>
        <div style="color:var(--muted)">Images: Unsplash (CDN)</div>
      </footer>
    </div>
  </div>

  <script>
    const QUESTIONS = [
      { q: 'Which country is home to this landmark (Eiffel Tower)?', image: 'images/eiffel.jpg', choices: ['United Kingdom','France','Italy','Germany'], a: 1 },
      { q: 'Which country is shown in this tropical postcard (Christ the Redeemer)?', image: 'images/rio.jpg', choices: ['Argentina','Brazil','Portugal','Spain'], a: 1 },
      { q: 'Where would you find this castle and cherry blossoms?', image: 'images/cherry.jpg', choices: ['South Korea','China','Japan','Thailand'], a: 2 },
      { q: 'This ancient pyramid is located in which country?', image: 'images/pyramid.jpg', choices: ['Peru','Mexico','Egypt','Sudan'], a: 2 },
      { q: 'Where is this coastal opera house located?', image: 'images/opera.jpg', choices: ['New Zealand','Australia','USA','Canada'], a: 1 },
      { q: 'This yellow taxi and skyline hint at which country?', image: 'images/nyc.jpg', choices: ['United States','United Kingdom','Australia','Ireland'], a: 0 },
      { q: 'This colosseum-like ruin belongs to which country?', image: 'images/colosseum.jpg', choices: ['Greece','Turkey','Italy','Spain'], a: 2 },
      { q: 'Where would you find this iconic Taj Mahal?', image: 'images/taj.jpg', choices: ['India','Pakistan','Bangladesh','Nepal'], a: 0 },
      { q: 'This onion-domed cathedral can be found in which country?', image: 'images/moscow.jpg', choices: ['Russia','Ukraine','Poland','Belarus'], a: 0 },
      { q: 'Table Mountain overlooks which country?', image: 'images/table.jpg', choices: ['South Africa','Australia','Chile','Argentina'], a: 0 },
      { q: 'Where would you find these vibrant Dia de los Muertos colors?', image: 'images/mexico.jpg', choices: ['Colombia','Mexico','Peru','Guatemala'], a: 1 },
      { q: 'This wide-open tundra, lakes, and maple vibes point to which country?', image: 'images/canada.jpg', choices: ['United States','Canada','Norway','Finland'], a: 1 },
      { q: 'Where is the Great Wall located?', image: 'images/wall.jpg', choices: ['China','Japan','Mongolia','Vietnam'], a: 0 },
      { q: 'This historic Hagia Sophia sits in which country?', image: 'images/hagia.jpg', choices: ['Greece','Turkey','Bulgaria','Cyprus'], a: 1 },
      { q: 'Which country is famous for flamenco and these tiled streets?', image: 'images/seville.jpg', choices: ['Portugal','Spain','Italy','Morocco'], a: 1 }
    ];

    let index = 0;
    const answers = Array(QUESTIONS.length).fill(null);

    const qText = document.getElementById('qText');
    const qImage = document.getElementById('qImage');
    const choicesWrap = document.getElementById('choices');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const progressBar = document.getElementById('progressBar');
    const resultsEl = document.getElementById('results');
    const resultsTitle = document.getElementById('resultsTitle');
    const resultsTier = document.getElementById('resultsTier');
    const resultsText = document.getElementById('resultsText');
    const retryBtn = document.getElementById('retryBtn');
    const shareBtn = document.getElementById('shareBtn');

    function render() {
      const item = QUESTIONS[index];
      qText.textContent = (index+1) + ". " + item.q;
      qImage.src = item.image;
      qImage.alt = item.q;

      choicesWrap.innerHTML = '';
      item.choices.forEach((c, i) => {
        const btn = document.createElement('button');
        btn.className = 'choice';
        btn.type = 'button';
        btn.innerHTML = c;
        btn.addEventListener('click', () => select(i));
        if (answers[index] === i) btn.classList.add('selected');
        choicesWrap.appendChild(btn);
      });

      // hide previous button on the first question
      prevBtn.style.visibility = index === 0 ? 'hidden' : 'visible';
      nextBtn.textContent = index === QUESTIONS.length - 1 ? 'Finish ‚ñ∂' : 'Next ‚ñ∂';

      const pct = Math.round(((index) / QUESTIONS.length) * 100);
      progressBar.style.width = pct + '%';

      resultsEl.style.display = 'none';
      resultsEl.setAttribute('aria-hidden','true');
    }

    function select(choiceIdx) {
      answers[index] = choiceIdx;
      Array.from(choicesWrap.children).forEach((c, i) => {
        c.classList.toggle('selected', i === choiceIdx);
      });
      setTimeout(() => {
        if (index === QUESTIONS.length - 1) return finish();
        index++;
        render();
      }, 400); // short delay for visual feedback
    }

    prevBtn.addEventListener('click', () => {
      if (index > 0) { index--; render(); }
    });

    nextBtn.addEventListener('click', () => {
      if (index === QUESTIONS.length - 1) return finish();
      index++; render();
    });

    function finish() {
      let correct = 0;
      QUESTIONS.forEach((q, i) => { if (answers[i] === q.a) correct++; });

      let tier = '';
      let tierText = '';
      if (correct === 15) {
        tier = 'üèÜ World Explorer Supreme!';
        tierText = 'Perfect! You know the world like the back of your passport.';
      } else if (correct >= 10) {
        tier = 'üåç Globe Trotter';
        tierText = 'Fantastic! Many stamps in your imaginary passport.';
      } else if (correct >= 5) {
        tier = '‚úàÔ∏è Frequent Flyer';
        tierText = 'Nice ‚Äî you\'ve got a good travel sense.';
      } else {
        tier = 'üèùÔ∏è Postcard Collector';
        tierText = 'A charming start ‚Äî plenty of world left to discover.';
      }

      resultsTitle.textContent = `You scored ${correct} of ${QUESTIONS.length}`;
      resultsTier.textContent = tier;
      resultsText.textContent = tierText;

      resultsEl.style.display = 'flex';
      resultsEl.setAttribute('aria-hidden','false');
      progressBar.style.width = '100%';
      resultsEl.scrollIntoView({behavior:'smooth'});
    }

    retryBtn.addEventListener('click', () => {
      index = 0;
      answers.fill(null);
      render();
    });

    shareBtn.addEventListener('click', () => {
      const correct = QUESTIONS.reduce((acc, q, i) => acc + (answers[i] === q.a ? 1 : 0), 0);
      const txt = `I scored ${correct}/${QUESTIONS.length} on the "Where in the World?" quiz! Try it: ${location.href}`;
      navigator.clipboard?.writeText(txt).then(()=>{
        shareBtn.textContent = 'Copied!';
        setTimeout(()=> shareBtn.textContent = 'Copy share text', 1400);
      }).catch(()=> alert(txt));
    });

    window.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') nextBtn.click();
      if (e.key === 'ArrowLeft') prevBtn.click();
    });

    render();
  </script>
</body>
</html>
